<ide name="BASYS3" clockGenerator="clockGenerator">
    <commands>
        <command name="Export" requires="vhdl" />
        <command name="Export &amp; Start Vivado" requires="vhdl" filter="true" gui="true" timeout="0">
            <arg>vivado</arg>
            <arg>vivado/&lt;?=shortname?&gt;.xpr</arg>
        </command>
    </commands>
    <files>
        <file name="clockGenerator.vhdl" overwrite="true" filter="true">
            <content><![CDATA[
LIBRARY ieee;
USE ieee.std_logic_1164.all;
USE ieee.numeric_std.all;
USE ieee.std_logic_unsigned.all;

entity clockGenerator is
  port (
    cout: out std_logic;
    cin: in std_logic );
end clockGenerator;

<? maxCounter:=1000000000 / (20 * hdl.frequency);?>

architecture Behavioral of clockGenerator is
  -- Don't use a logic signal as clock source in a real world application!
  -- Use the on chip clock resources instead!
  signal counter: integer range 0 to <?=maxCounter?> := 0;
  signal state: std_logic;
begin
  process (cin)
  begin
    if rising_edge(cin) then
       if counter = <?=maxCounter?> then
          counter <= 0;
          state <= NOT (state);
       else
          counter <= counter+1;
       end if;
    end if;
  end process;
  cout <= state;
end Behavioral;
]]></content>
        </file>
        <file name="&lt;?=shortname?&gt;_constraints.xdc" overwrite="true" filter="true">
            <content><![CDATA[<?

for (i:=0; i<sizeOf(hdl.ports);i++) {
    port:=hdl.ports[i];
    if (port.bits=1) {
        print("set_property PACKAGE_PIN "+port.pin+" [get_ports "+port.name+"]\n");
        print("set_property IOSTANDARD LVCMOS33 [get_ports "+port.name+"]\n\n");
        if (port.clock) {
           print("create_clock -add -name sys_clk_pin -period 10 -waveform {0 5} [get_ports "+port.name+"]\n\n");
        }
    } else {
        panic("multi bit ports are not yet supported!");
    }
}
print("set_property CFGBVS VCCO  [current_design]\n");
print("set_property CONFIG_VOLTAGE 3.3 [current_design]\n");

            ?>]]></content>
        </file>
        <file name="vivado/&lt;?=shortname?&gt;.xpr" overwrite="false" filter="true">
            <content><![CDATA[<?print("<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n");?>
<!-- Created by Digital -->

<Project Version="7" Minor="20" Path="<?=dir?>/vivado/<?=shortname?>.xpr">
  <DefaultLaunch Dir="$PRUNDIR"/>
  <Configuration>
    <Option Name="Part" Val="xc7a35ticpg236-1L"/>
  </Configuration>
  <FileSets Version="1" Minor="31">
    <FileSet Name="sources_1" Type="DesignSrcs" RelSrcDir="$PSRCDIR/sources_1">
      <Filter Type="Srcs"/>
      <File Path="$PPRDIR/../<?=shortname?>.vhdl">
        <FileInfo>
          <Attr Name="UsedIn" Val="synthesis"/>
          <Attr Name="UsedIn" Val="simulation"/>
        </FileInfo>
      </File>
      <File Path="$PPRDIR/../clockGenerator.vhdl">
        <FileInfo>
          <Attr Name="UsedIn" Val="synthesis"/>
          <Attr Name="UsedIn" Val="simulation"/>
        </FileInfo>
      </File>
      <Config>
        <Option Name="DesignMode" Val="RTL"/>
        <Option Name="TopModule" Val="main"/>
        <Option Name="TopAutoSet" Val="TRUE"/>
      </Config>
    </FileSet>
    <FileSet Name="constrs_1" Type="Constrs" RelSrcDir="$PSRCDIR/constrs_1">
      <Filter Type="Constrs"/>
      <File Path="$PPRDIR/../<?=shortname?>_constraints.xdc">
        <FileInfo>
          <Attr Name="UsedIn" Val="synthesis"/>
          <Attr Name="UsedIn" Val="implementation"/>
        </FileInfo>
      </File>
      <Config>
        <Option Name="ConstrsType" Val="XDC"/>
      </Config>
    </FileSet>
  </FileSets>
</Project>]]></content>
        </file>
    </files>
</ide>
